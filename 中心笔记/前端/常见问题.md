## 父子通讯传递路径无法正确解析
父组件传下来的只是一个字符串,到了子组件中用 : 动态解析不出来,正常的img src=<字符串>能够生效是因为打包工具进行了处理,但是这样动态解析的字符串不会由打包工具处理,所以需要自己转为URL,可以给出如下计算方法
```js
<script setup>
// ... existing code ...

// 添加一个计算属性来处理图片路径
import { computed } from 'vue'

// 处理图片路径的计算属性
const imageUrl = computed(() => {
  // 检查是否是相对路径，如果是则使用 new URL 处理
  if (props.image && props.image.startsWith('../')) {
    try {
      // 使用 import.meta.url 来构建正确的路径
      return new URL(props.image, import.meta.url).href
    } catch (e) {
      console.error('图片路径解析错误:', e)
      return props.image
    }
  }
  return props.image
})
</script>

<template>
  <div class="item" @click="$router.push(props.url)">
    <div class="icon">
      <!-- 使用处理后的图片路径 -->
      <img :src="imageUrl" alt="">
      <!-- 可以保留或删除这行静态图片 -->
      <img src="../assets/doctorpic/3.jpeg" alt></img>
    </div>
    <!-- ... existing code ... -->
  </div>
</template>
```
## 列表在渲染时直接滚动到底部
```js
content.value.scrollTop = content.value.scrollHeight
//or
  content.value.scrollTo({
    top: content.value.scrollHeight,
    behavior: 'smooth', //平滑滚动
  })
```
scrollTop 和 scrollHeight 是 JavaScript 中 DOM 元素的两个重要属性，用于控制和获取元素的滚动状态。
**scrollTop**
- 含义 ： scrollTop 表示元素内容相对于元素顶部滚动的像素数。
- 作用 ：通过设置元素的 scrollTop 值，可以控制元素内容的滚动位置。
- 默认值 ：初始状态下， scrollTop 为 0，表示内容没有向上滚动。
**scrollHeight**
- 含义 ： scrollHeight 表示元素内容的总高度，包括由于溢出而不可见的部分。
- 作用 ：它反映了元素内部所有内容的完整高度，不管当前是否可见。
- 计算方式 ：对于文本元素， scrollHeight 等于所有内容行的总高度加上内边距，但不包括边框和外边距。
## 解析md
安装依赖
```shell
pnpm add marked
```
调用parse方法并把内容作为v-html的内容放入
```js
const messageContent = computed(() => {
  const content = chatStore.aiMsg || ''
  return marked.parse(content)
})
```